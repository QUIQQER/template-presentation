{template_event name="quiqqer::template::body::pageBegin" Template=$Template}
<div class="body-container">
    {fetch template="template/page/header.html" showPageTitle=$showPageTitle showPageShort=$showPageShort showHeader=$showHeader Site=$Site}
    {template_event name="quiqqer::template::body::afterHeader" Template=$Template}

    {*<!-- header brick area (only for start page) -->*}
    {if $startPage}
        {assign var=headerBricks value=$BricksManager->getBricksByArea('header', $Site)}
        {foreach from=$headerBricks item=Brick}
            {assign var=tplBrickBgColor value=QUI\TemplatePresentation\Utils::getBrickBgColorCssVar($Brick)}
            {assign var=tplBrickTextColor value=QUI\TemplatePresentation\Utils::getBrickTextColorCssVar($Brick)}

            {assign var=tplBrickImage value=false}
            {if $Brick->getSetting('brickBgImage')}
                {assign var=tplBrickImage value=true}
            {/if}

            <div class="header-brick-area start-page-header tpl-brick brick-id-{$Brick->getAttribute('id')} tpl-brick--brickImage"
                 style="{$tplBrickBgColor} {$tplBrickTextColor}"
            >
                {if $tplBrickImage}
                <div class="tpl-brick--brickImage__imageWrapper">
                    {image src="{$Brick->getSetting('brickBgImage')}" class="tpl-brick--brickImage__image"}
                </div>
                {/if}

                {if $tplBrickImage}
                <div class="tpl-brick--brickImage__contentWrapper">
                {/if}

                {if $Brick->getAttribute('frontendTitle')}
                    <h1 class="brick-title">{$Brick->getAttribute('frontendTitle')}</h1>
                {/if}
                {assign var=showTitle value=$Brick->setSetting('showTitle', false)}
                {$Brick->create()}

                {if $tplBrickImage}
                </div>
                {/if}
            </div>
        {/foreach}

        {template_event name="quiqqer::template::body::after" Template=$Template}
    {/if}

    {fetch template="template/page/breadcrumb.html" showBreadcrumb=$showBreadcrumb Breadcrumb=$Breadcrumb}
    {template_event name="quiqqer::template::body::afterBreadcrumb" Template=$Template}

    <div class="headerSuffix">
        {assign var=headerSuffix value=$BricksManager->getBricksByArea('headerSuffix', $Site)}
        {foreach $headerSuffix as $Brick}
            {assign var=classes value=\QUI\TemplatePresentation\Utils::convertBrickCSSClass($Brick->getAttribute('classes'))}

            {assign var=noPadding value=''}
            {if $Brick->getType() == 'QUI\Bricks\Controls\SimpleGoogleMaps'}
                {assign var=noPadding value='-noPadding'}
            {/if}

            {assign var=tplBrickImage value=false}
            {if $Brick->getSetting('brickBgImage')}
                {assign var=tplBrickImage value=true}
            {/if}

            {assign var=tplBrickBgColor value=QUI\TemplatePresentation\Utils::getBrickBgColorCssVar($Brick)}
            {assign var=tplBrickTextColor value=QUI\TemplatePresentation\Utils::getBrickTextColorCssVar($Brick)}

            {if $Brick->getSetting('brickFullWidth')}
            <section class="prefix-suffix-full-width tpl-presentation-row{$noPadding} {$classes}
                            tpl-brick {if $tplBrickImage}tpl-brick--brickImage{/if}
                            headerSuffix-container
                            brick-id-{$Brick->getAttribute('id')}"
                    style="{$tplBrickBgColor} {$tplBrickTextColor}"
            >
                {if $tplBrickImage}
                <div class="tpl-brick--brickImage__imageWrapper">
                    {image src="{$Brick->getSetting('brickBgImage')}" class="tpl-brick--brickImage__image"}
                </div>
                {/if}

                {if $tplBrickImage}
                <div class="tpl-brick--brickImage__contentWrapper">
                    {/if}

                    {if $Brick->getSetting('brickSeparatorTop')}
                        {fetch template="template/bricks/separator.html"
                            image=$Brick->getSetting('brickSeparatorTop')
                        }
                    {/if}

                {$Brick->create()}

                {if $tplBrickImage}
                </div>
                {/if}
            </section>
            {else}

            <section class="tpl-presentation-row {$classes}
                        tpl-brick {if $tplBrickImage}tpl-brick--brickImage{/if}
                        headerSuffix-container
                        brick-id-{$Brick->getAttribute('id')}
                        "
                     style="{$tplBrickBgColor} {$tplBrickTextColor}"
            >
                {if $tplBrickImage}
                    <div class="tpl-brick--brickImage__imageWrapper">
                        {image src="{$Brick->getSetting('brickBgImage')}" class="tpl-brick--brickImage__image"}
                    </div>
                {/if}

                <div class="grid-container {if $tplBrickImage}tpl-brick--brickImage__contentWrapper{/if}">
                    {if $Brick->getSetting('brickSeparatorTop')}
                        {fetch template="template/bricks/separator.html"
                        image=$Brick->getSetting('brickSeparatorTop')
                        pos=bottom
                        }
                    {/if}

                    {if $Brick->getAttribute('frontendTitle')}
                        <h1 class="brick-title">{$Brick->getAttribute('frontendTitle')}</h1>
                    {/if}
                    {assign var=showTitle value=$Brick->setSetting('showTitle', false)}
                    {$Brick->create()}
                </div>
            </section>
            {/if}

        {/foreach}
    </div>

    {template_event name="quiqqer::template::body::beforeMain" Template=$Template}
    <div class="main-content-wrapper">
        <div class="grid-container main-content">
            {$Template->getLayout()}
        </div>
    </div>
    {template_event name="quiqqer::template::body::afterMain" Template=$Template}


    <div class="prefixFooter">
        {assign var=footerPrefix value=$BricksManager->getBricksByArea('footerPrefix', $Site)}
        {foreach $footerPrefix as $Brick}
            {assign var=classes value=\QUI\TemplatePresentation\Utils::convertBrickCSSClass($Brick->getAttribute('classes'))}

            {assign var=noPadding value=''}
            {if $Brick->getType() == 'QUI\Bricks\Controls\SimpleGoogleMaps'}
                {assign var=noPadding value='-noPadding'}
            {/if}

            {assign var=tplBrickImage value=false}
            {if $Brick->getSetting('brickBgImage')}
                {assign var=tplBrickImage value=true}
            {/if}

            {assign var=tplBrickBgColor value=QUI\TemplatePresentation\Utils::getBrickBgColorCssVar($Brick)}
            {assign var=tplBrickTextColor value=QUI\TemplatePresentation\Utils::getBrickTextColorCssVar($Brick)}

            {if $Brick->getSetting( 'brickFullWidth' )}
            <section class="prefix-suffix-full-width clear-fix tpl-presentation-row{$noPadding} {$classes}
                    footerPrefix-container
                    brick-id-{$Brick->getAttribute('id')}"
                >
                {$Brick->create()}
            </section>
            {else}
            <section class="tpl-presentation-row prefix-suffix-nofull-width {$classes}
                        footerPrefix-container
                        tpl-brick {if $tplBrickImage}tpl-brick--brickImage{/if}
                        brick-id-{$Brick->getAttribute('id')}">
                <div class="grid-container">
                    {if $Brick->getAttribute('frontendTitle')}
                        <h1 class="brick-title">{$Brick->getAttribute('frontendTitle')}</h1>
                    {/if}
                    {assign var=showTitle value=$Brick->setSetting('showTitle', false)}
                    {$Brick->create()}
                </div>
            </section>
            {/if}
        {/foreach}
    </div>

    {template_event name="quiqqer::template::body::beforeFooter" Template=$Template}

    {if $Template->getAttribute('template-footer')}
        {fetch template="template/footer.html" BricksManager=$BricksManager
        Site=$Site socialFooter=$socialFooter}
    {/if}

    <a href="#top" class="toTop" style="outline: none;">
        <i class="fa fa-arrow-up control-background"></i>
    </a>
</div>

{template_event name="quiqqer::template::body::pageEnd" Template=$Template}